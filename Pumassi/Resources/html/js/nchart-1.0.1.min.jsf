/*!
 * nchart - JavaScript Chart Library v1.0.1
 * http://devcafe.nhncorp.com/nchart
 */
(function(){var a=window.nchart={version:"1.0.1"}}());
/*!
  https://github.com/kriskowal/es5-shim
*/
(function(a){if(typeof define=="function"){define(a)}else{if(typeof YUI=="function"){YUI.add("es5",a)}else{a()}}})(function(){if(!Function.prototype.bind){Function.prototype.bind=function f(ai){var aj=this;if(typeof aj!="function"){throw new TypeError("Function.prototype.bind called on incompatible "+aj)}var ag=r.call(arguments,1);var ah=function(){if(this instanceof ah){var am=function(){};am.prototype=aj.prototype;var al=new am;var ak=aj.apply(al,ag.concat(r.call(arguments)));if(Object(ak)===ak){return ak}return al}else{return aj.apply(ai,ag.concat(r.call(arguments)))}};return ah}}var c=Function.prototype.call;var H=Array.prototype;var w=Object.prototype;var r=H.slice;var I=c.bind(w.toString);var R=c.bind(w.hasOwnProperty);var Z;var ae;var Y;var ac;var n;if((n=R(w,"__defineGetter__"))){Z=c.bind(w.__defineGetter__);ae=c.bind(w.__defineSetter__);Y=c.bind(w.__lookupGetter__);ac=c.bind(w.__lookupSetter__)}if(!Array.isArray){Array.isArray=function z(ag){return I(ag)=="[object Array]"}}if(!Array.prototype.forEach){Array.prototype.forEach=function d(ag){var ah=J(this),aj=arguments[1],ai=-1,ak=ah.length>>>0;if(I(ag)!="[object Function]"){throw new TypeError()}while(++ai<ak){if(ai in ah){ag.call(aj,ah[ai],ai,ah)}}}}if(!Array.prototype.map){Array.prototype.map=function G(ah){var ai=J(this),al=ai.length>>>0,ag=Array(al),ak=arguments[1];if(I(ah)!="[object Function]"){throw new TypeError(ah+" is not a function")}for(var aj=0;aj<al;aj++){if(aj in ai){ag[aj]=ah.call(ak,ai[aj],aj,ai)}}return ag}}if(!Array.prototype.filter){Array.prototype.filter=function O(ah){var ai=J(this),al=ai.length>>>0,ag=[],am,ak=arguments[1];if(I(ah)!="[object Function]"){throw new TypeError(ah+" is not a function")}for(var aj=0;aj<al;aj++){if(aj in ai){am=ai[aj];if(ah.call(ak,am,aj,ai)){ag.push(am)}}}return ag}}if(!Array.prototype.every){Array.prototype.every=function M(ag){var ah=J(this),ak=ah.length>>>0,aj=arguments[1];if(I(ag)!="[object Function]"){throw new TypeError(ag+" is not a function")}for(var ai=0;ai<ak;ai++){if(ai in ah&&!ag.call(aj,ah[ai],ai,ah)){return false}}return true}}if(!Array.prototype.some){Array.prototype.some=function V(ag){var ah=J(this),ak=ah.length>>>0,aj=arguments[1];if(I(ag)!="[object Function]"){throw new TypeError(ag+" is not a function")}for(var ai=0;ai<ak;ai++){if(ai in ah&&ag.call(aj,ah[ai],ai,ah)){return true}}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function o(ah){var ai=J(this),ak=ai.length>>>0;if(I(ah)!="[object Function]"){throw new TypeError(ah+" is not a function")}if(!ak&&arguments.length==1){throw new TypeError("reduce of empty array with no initial value")}var aj=0;var ag;if(arguments.length>=2){ag=arguments[1]}else{do{if(aj in ai){ag=ai[aj++];break}if(++aj>=ak){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;aj<ak;aj++){if(aj in ai){ag=ah.call(void 0,ag,ai[aj],aj,ai)}}return ag}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function y(ah){var ai=J(this),ak=ai.length>>>0;if(I(ah)!="[object Function]"){throw new TypeError(ah+" is not a function")}if(!ak&&arguments.length==1){throw new TypeError("reduceRight of empty array with no initial value")}var ag,aj=ak-1;if(arguments.length>=2){ag=arguments[1]}else{do{if(aj in ai){ag=ai[aj--];break}if(--aj<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}do{if(aj in this){ag=ah.call(void 0,ag,ai[aj],aj,ai)}}while(aj--);return ag}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function t(ah){var ag=J(this),aj=ag.length>>>0;if(!aj){return -1}var ai=0;if(arguments.length>1){ai=S(arguments[1])}ai=ai>=0?ai:Math.max(0,aj+ai);for(;ai<aj;ai++){if(ai in ag&&ag[ai]===ah){return ai}}return -1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function Q(ah){var ag=J(this),aj=ag.length>>>0;if(!aj){return -1}var ai=aj-1;if(arguments.length>1){ai=Math.min(ai,S(arguments[1]))}ai=ai>=0?ai:aj-Math.abs(ai);for(;ai>=0;ai--){if(ai in ag&&ah===ag[ai]){return ai}}return -1}}if(!Object.getPrototypeOf){Object.getPrototypeOf=function ab(ag){return ag.__proto__||(ag.constructor?ag.constructor.prototype:w)}}if(!Object.getOwnPropertyDescriptor){var b="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function x(ai,aj){if((typeof ai!="object"&&typeof ai!="function")||ai===null){throw new TypeError(b+ai)}if(!R(ai,aj)){return}var ak={enumerable:true,configurable:true};if(n){var ah=ai.__proto__;ai.__proto__=w;var ag=Y(ai,aj);var al=ac(ai,aj);ai.__proto__=ah;if(ag||al){if(ag){ak.get=ag}if(al){ak.set=al}return ak}}ak.value=ai[aj];return ak}}if(!Object.getOwnPropertyNames){Object.getOwnPropertyNames=function P(ag){return Object.keys(ag)}}if(!Object.create){Object.create=function h(ai,aj){var ah;if(ai===null){ah={__proto__:null}}else{if(typeof ai!="object"){throw new TypeError("typeof prototype["+(typeof ai)+"] != 'object'")}var ag=function(){};ag.prototype=ai;ah=new ag();ah.__proto__=ai}if(aj!==void 0){Object.defineProperties(ah,aj)}return ah}}function B(ag){try{Object.defineProperty(ag,"sentinel",{});return"sentinel" in ag}catch(ah){}}if(Object.defineProperty){var g=B({});var D=typeof document=="undefined"||B(document.createElement("div"));if(!g||!D){var A=Object.defineProperty}}if(!Object.defineProperty||A){var e="Property description must be an object: ";var T="Object.defineProperty called on non-object: ";var m="getters & setters can not be defined on this javascript engine";Object.defineProperty=function W(ah,aj,ak){if((typeof ah!="object"&&typeof ah!="function")||ah===null){throw new TypeError(T+ah)}if((typeof ak!="object"&&typeof ak!="function")||ak===null){throw new TypeError(e+ak)}if(A){try{return A.call(Object,ah,aj,ak)}catch(ai){}}if(R(ak,"value")){if(n&&(Y(ah,aj)||ac(ah,aj))){var ag=ah.__proto__;ah.__proto__=w;delete ah[aj];ah[aj]=ak.value;ah.__proto__=ag}else{ah[aj]=ak.value}}else{if(!n){throw new TypeError(m)}if(R(ak,"get")){Z(ah,aj,ak.get)}if(R(ak,"set")){ae(ah,aj,ak.set)}}return ah}}if(!Object.defineProperties){Object.defineProperties=function K(ag,ah){for(var ai in ah){if(R(ah,ai)&&ai!="__proto__"){Object.defineProperty(ag,ai,ah[ai])}}return ag}}if(!Object.seal){Object.seal=function U(ag){return ag}}if(!Object.freeze){Object.freeze=function q(ag){return ag}}try{Object.freeze(function(){})}catch(j){Object.freeze=(function q(ah){return function ag(ai){if(typeof ai=="function"){return ai}else{return ah(ai)}}})(Object.freeze)}if(!Object.preventExtensions){Object.preventExtensions=function L(ag){return ag}}if(!Object.isSealed){Object.isSealed=function af(ag){return false}}if(!Object.isFrozen){Object.isFrozen=function X(ag){return false}}if(!Object.isExtensible){Object.isExtensible=function p(ah){if(Object(ah)!==ah){throw new TypeError()}var ag="";while(R(ah,ag)){ag+="?"}ah[ag]=true;var ai=R(ah,ag);delete ah[ag];return ai}}if(!Object.keys){var l=true,s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=s.length;for(var u in {toString:null}){l=false}Object.keys=function F(ai){if((typeof ai!="object"&&typeof ai!="function")||ai===null){throw new TypeError("Object.keys called on a non-object")}var al=[];for(var ah in ai){if(R(ai,ah)){al.push(ah)}}if(l){for(var aj=0,ak=i;aj<ak;aj++){var ag=s[aj];if(R(ai,ag)){al.push(ag)}}}return al}}if(!Date.prototype.toISOString||(new Date(-62198755200000).toISOString().indexOf("-000001")===-1)){Date.prototype.toISOString=function k(){var ag,ai,aj,ah;if(!isFinite(this)){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}ag=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];ah=this.getUTCFullYear();ah=(ah<0?"-":(ah>9999?"+":""))+("00000"+Math.abs(ah)).slice(0<=ah&&ah<=9999?-4:-6);ai=ag.length;while(ai--){aj=ag[ai];if(aj<10){ag[ai]="0"+aj}}return ah+"-"+ag.slice(0,2).join("-")+"T"+ag.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}}if(!Date.now){Date.now=function aa(){return new Date().getTime()}}if(!Date.prototype.toJSON){Date.prototype.toJSON=function N(ag){if(typeof this.toISOString!="function"){throw new TypeError("toISOString property is not callable")}return this.toISOString()}}if(!Date.parse||Date.parse("+275760-09-13T00:00:00.000Z")!==8640000000000000){Date=(function(ai){var ag=function ag(an,at,al,ar,aq,au,am){var ao=arguments.length;if(this instanceof ai){var ap=ao==1&&String(an)===an?new ai(ag.parse(an)):ao>=7?new ai(an,at,al,ar,aq,au,am):ao>=6?new ai(an,at,al,ar,aq,au):ao>=5?new ai(an,at,al,ar,aq):ao>=4?new ai(an,at,al,ar):ao>=3?new ai(an,at,al):ao>=2?new ai(an,at):ao>=1?new ai(an):new ai();ap.constructor=ag;return ap}return ai.apply(this,arguments)};var aj=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var ah in ai){ag[ah]=ai[ah]}ag.now=ai.now;ag.UTC=ai.UTC;ag.prototype=ai.prototype;ag.prototype.constructor=ag;ag.parse=function ak(ao){var an=aj.exec(ao);if(an){an.shift();for(var ap=1;ap<7;ap++){an[ap]=+(an[ap]||(ap<3?1:0));if(ap==1){an[ap]--}}var am=+an.pop(),at=+an.pop(),al=an.pop();var ar=0;if(al){if(at>23||am>59){return NaN}ar=(at*60+am)*60000*(al=="+"?-1:1)}var aq=+an[0];if(0<=aq&&aq<=99){an[0]=aq+400;return ai.UTC.apply(this,an)+ar-12622780800000}return ai.UTC.apply(this,an)+ar}return ai.parse.apply(this,arguments)};return ag})(Date)}var ad="\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF";if(!String.prototype.trim||ad.trim()){ad="["+ad+"]";var C=new RegExp("^"+ad+ad+"*"),v=new RegExp(ad+ad+"*$");String.prototype.trim=function a(){if(this===undefined||this===null){throw new TypeError("can't convert "+this+" to object")}return String(this).replace(C,"").replace(v,"")}}var S=function(ag){ag=+ag;if(ag!==ag){ag=0}else{if(ag!==0&&ag!==(1/0)&&ag!==-(1/0)){ag=(ag>0||-1)*Math.floor(Math.abs(ag))}}return ag};var E="a"[0]!="a";var J=function(ag){if(ag==null){throw new TypeError("can't convert "+ag+" to object")}if(E&&typeof ag=="string"&&ag){return ag.split("")}return Object(ag)}});(function(){nchart.error=function(h,f){var e=/%s/,d=a[h],g=(d&&d.desc)||h,b=Array.prototype.slice.call(arguments,1),c=0;while(e.test(g)){g=g.replace(e,b[c++]||"")}throw"[nchart] "+g};var a={CHART_CONFIG_REQUIRED:{desc:"차트 객체 생성 시 차트 설정 파라미터가 필요합니다"},CHART_TYPE_REQUIRED:{desc:"차트 설정 파라미터에 type이 생략되었습니다."},INVALID_TYPE:{desc:["%s는 제공하지 않는 차트 타입입니다.","nchart.getAvailableType()으로 사용 가능한 차트 타입을 확인할 수 있습니다."].join("\n")},WIDTH_HEIGHT_REQUIRED:{desc:"차트 설정 파라미터에 width와 height이 생략되었거나 0보다 작습니다."},INVALID_TOOL_DEFINITION:{desc:["%s 툴이 정의되지 않았습니다.","nchart.type 에서 툴 목록을 확인해보세요."].join("\n")},INVALID_BRUSH_NAME:{desc:["브러시맵 객체에서 %s 브러시를 찾을 수 없습니다.","oBrushMap.getAvailableBrushMethods()로 사용 가능한 브러시와 메서드 목록을 확인할 수 있습니다."].join("\n")},INVALID_BRUSH_METHOD:{desc:"%s 브러시에서 %s 메서드를 찾을 수 없습니다."},TOOL_REQUIRED:{desc:["%s 툴을 추가하려면 먼저 %s 이름을 가진 툴이 추가되어 있어야 합니다.","nchart.type 에서 툴의 선언 순서를 확인해보세요."].join("\n")},INVALID_BRUSH_MAP_INIT_HANDLER:{desc:"BrushMap 객체의 setInitHandler(handler)의 파라미터로는 함수만 가능합니다."},INVALID_PIE_START_DIRECTION:{desc:["PIE 차트 시작 방위를 의미하는 startDirection 옵션에 입력한 값이 올바르지 않습니다. (입력값: %s)","%s 중 하나를 선택하세요."].join("\n")},INVALID_PIE_COORDINATE_TYPE:{desc:["PIE 방사 좌표계 타입을 의미하는 coordinateType 옵션에 입력한 값이 올바르지 않습니다. (입력값: %s)","%s 중 하나를 선택하세요."].join("\n")},NOT_READY_TO_DRAW:{desc:["차트를 그릴 준비가 되지 않았습니다.","차트를 초기화하지 않았거나(oChart.init()),","차트 객체에 데이터테이블과 브러시맵 객체가 제대로 설정되어 있지 않습니다."].join("\n")},CHART_ALREADY_INITED:{desc:"차트가 이미 한 번 초기화되었습니다. oChart.init()을 중복 호출하고 있는지 확인해보세요."},TYPE_NOT_MATCHED:{desc:["차트 객체와 브러시맵 객체의 타입이 동일하지 않습니다.","(차트 객체의 타입: %s, 브러시맵 객체의 타입: %s)"].join("\n")},INVALID_CHART_HANDLER_NAME:{desc:["%s는 올바른 차트 이벤트 핸들러가 아닙니다.","사용할 수 있는 이벤트 핸들러는 %s 입니다."].join("\n")},INVALID_LEGEND_HEADER_TYPE:{desc:["범례의 헤더 타입이 올바르지 않습니다. (입력값: %s)","%s 중 하나를 선택하세요."].join("\n")},INVALID_LEGEND_DIRECTION:{desc:["범례의 방향 옵션이 올바르지 않습니다. (입력값: %s)","%s 중 하나를 선택하세요."].join("\n")},BRUSH_ID_ALREADY_EXIST:{desc:"nbrush에 %s 아이디를 가진 브러시가 이미 존재합니다."},INVALID_BRUSH_ID:{desc:"nbrush에 %s 아이디를 가진 브러시가 정의되어 있지 않습니다."},BRUSH_MAP_ID_ALREADY_EXIST:{desc:"nbrush에 %s 아이디를 가진 브러시맵이 이미 존재합니다."},INVALID_BRUSH_MAP_ID:{desc:"nbrush에 %s 아이디를 가진 브러시맵이 정의되어 있지 않습니다."},INVALID_POINTCUT_EXPRESSION:{desc:'유효하지 않은 표현식입니다. "[툴명.]메서드명()" 형태로 입력해주세요. (입력값: %s)'}}}());(function(){nchart.util={copy:function(a,b){Object.keys(b).forEach(function(c){a[c]=b[c]})},clone:function(b){var a={};this.copy(a,b);return a},mixin:function(b,a){if(!a){return}if(!Array.isArray(a)){a=[a]}a.forEach(function(c){this.copy(b,c)}.bind(this))},proto:function(c,a){var b=c.prototype;this.copy(b,a)},getToolByName:function(b){var a=null;Object.keys(nchart.tool).forEach(function(d){var c=nchart.tool[d];if(c.toolName===b){a=c}});return a},validateOptions:function(b){var a=b.validInputs;if(a.indexOf(b.inputValue)===-1){nchart.error(b.errorKey,b.inputValue,a.join(","))}}}}());(function(){var a=nchart.DataTable=function(){this._arHeader=[];this._acHeader=[];this._dtCell=[]};nchart.util.proto(a,{setDataTable:function(b){this._extractColumnHeader(b);this._extractRowHeader(b,1);this._extractCellDataTable(b,1,1);return this},_extractColumnHeader:function(b){var c=0,d=1;this.setColumnHeader(b[c].slice(d))},_extractRowHeader:function(e,d){var g=[],b=e.length,c=d,f=0;for(;c<b;c++){g.push(e[c][f])}this.setRowHeader(g)},_extractCellDataTable:function(g,f,e){var c=[],b=g.length,d=f;for(;d<b;d++){c.push(g[d].slice(e))}this.setCellDataTable(c)},setColumnHeader:function(b){this._acHeader=b;return this},setRowHeader:function(b){this._arHeader=b;return this},setCellDataTable:function(b){this._dtCell=b;return this},setRowDataTable:function(b){this._extractRowHeader(b,0);this._extractCellDataTable(b,0,1);return this},pushRow:function(b){this._arHeader.push(b[0]);this._dtCell.push(b.slice(1));return this},popRow:function(){var c=this._arHeader.pop();var b=this._dtCell.pop();b.splice(0,0,c);return b},shiftRow:function(){var c=this._arHeader.shift();var b=this._dtCell.shift();b.splice(0,0,c);return b},replaceRow:function(c,b){this._arHeader[c]=b[0];this._dtCell[c]=b.slice(1);return this},getColumnCount:function(){return this._acHeader.length},getRowCount:function(){return this._arHeader.length},eachColumnHeader:function(b){this._eachArray(this._acHeader,b);return this},eachRowHeader:function(b){this._eachArray(this._arHeader,b);return this},eachCell:function(b){this._eachArray(this._dtCell,function(c,d){this._eachArray(c,function(f,e){b.call(this,f,d,e)})});return this},eachColumnCell:function(b,c){this._eachArray(this._dtCell,function(d,e){c.call(this,d[b],e)});return this},eachRowCell:function(b,c){this._eachArray(this._dtCell[b],function(e,d){c.call(this,e,d)});return this},_eachArray:function(c,e){var b=c.length,d;for(d=0;d<b;d++){e.call(this,c[d],d)}},getRowHeader:function(b){if(typeof b==="number"){return this._arHeader[b]}return this._arHeader},getColumnHeader:function(b){if(typeof b==="number"){return this._acHeader[b]}return this._acHeader},getCell:function(c,d){var b=this._dtCell;if(b[c]&&typeof b[c][d]!=="undefined"){return b[c][d]}return null},getColumnCell:function(c){var b=[];this.eachColumnCell(c,function(d){b.push(d)});return b},getRowCell:function(b){return this._dtCell[b]},getMinMaxValue:function(){var b=[];this.eachCell(function(c){b.push(c)});return{max:Math.max.apply(Math,b),min:Math.min.apply(Math,b)}},getMinMaxValueOfRowSum:function(){var b=[];this.eachCell(function(e,c,d){if(typeof b[c]==="undefined"){b[c]=0}b[c]+=e});return{max:Math.max.apply(Math,b),min:Math.min.apply(Math,b)}},emptyRow:function(){this._arHeader.length=0;this._dtCell.length=0;return this},fillRow:function(c,b){this.emptyRow();for(var d=0;d<c;d++){this.pushRow(b)}return this},invertRowColumn:function(){var d=this._arHeader.concat(),c=this._acHeader.concat(),b=this._invertCell(this._dtCell.concat());this.setColumnHeader(d);this.setRowHeader(c);this.setCellDataTable(b);return this},_invertCell:function(b){var c=[];for(var e=0,d=b.length;e<d;e++){for(var g=0,f=b[e].length;g<f;g++){if(e===0){c[g]=[]}c[g][e]=b[e][g]}}return c},clone:function(){var b=new nchart.DataTable();b.setColumnHeader(this._acHeader.concat()).setRowHeader(this._arHeader.concat()).setCellDataTable(this._dtCell.concat());return b}})}());(function(){var a=nchart.Chart=function(b){this._config=b||{};this._oDataTable=null;this._oBrushMap=null;this._tools=[];this._chartInfo={};this._handlers={onInit:[],onBeforeDraw:[],onAfterDraw:[]};this._isInited=false};nchart.util.proto(a,{setDataTable:function(b){this._oDataTable=b;return this},getDataTable:function(){return this._oDataTable},setBrushMap:function(b){if(this.type!==b.type){nchart.error("TYPE_NOT_MATCHED",this.type,b.type)}this._oBrushMap=b;return this},getBrushMap:function(){return this._oBrushMap},addTool:function(b){this._tools.push(b)},init:function(){if(this._isInited){nchart.error("CHART_ALREADY_INITED")}this._initContainerInfo();this._initTools();this._initBrushMap();this._callEventHandler("onInit");this._isInited=true;return this},_initContainerInfo:function(){var b=this._config;this.setChartInfo("container",{w:b.width,h:b.height,x:0,y:0,xEnd:b.width,yEnd:b.height,elementId:b.elementId||""})},_initTools:function(){this._tools.forEach(function(b){b.oChart=this;b.oDataTable=this._oDataTable;if(typeof b.init==="function"){b.init(this._config[b.toolName]||{})}}.bind(this))},_initBrushMap:function(){this._oBrushMap.init(this.getChartInfo("container"))},draw:function(){if(this._oDataTable&&this._oBrushMap&&this._isInited){this._draw();return this}nchart.error("NOT_READY_TO_DRAW")},_draw:function(){this._callEventHandler("onBeforeDraw");this.callBrushMethod("*","beforeDraw");this._callEachToolMethod("draw");this.callBrushMethod("*","afterDraw");this._callEventHandler("onAfterDraw")},_callEachToolMethod:function(b){this._tools.forEach(function(c){if(typeof c[b]==="function"){c[b]()}})},setChartInfo:function(b,c){this._chartInfo[b]=c;return this},getChartInfo:function(b){if(b){return this._chartInfo[b]}return this._chartInfo},callBrushMethod:function(c,b,d){return this._oBrushMap.callMethod(c,b,d||{},this.getChartInfo())},attachEvent:function(c,e,d){var b=this._handlers,f=Object.keys(b);if(f.indexOf(c)===-1){nchart.error("INVALID_CHART_HANDLER_NAME",c,f.join())}b[c].push(e.bind(d||this));return this},_callEventHandler:function(c){var b=this._handlers[c];b.forEach(function(d){d()})}})}());(function(){var a=nchart.BrushMap=function(b){this._map={};this._shareData={};this._initHandler=function(){};this._defaultMethodMap={};this._availableBrushMethods=[]};a.WILDCARD="*";a.COMMON_METHODS=["init","beforeDraw","afterDraw"];nchart.util.proto(a,{addBrushType:function(c,b){this._map[c]=[];this._availableBrushMethods.push({brushName:c,brushMethods:b})},setInitHandler:function(b){if(typeof b!=="function"){nchart.error("INVALID_BRUSH_MAP_INIT_HANDLER")}this._initHandler=b;return this},init:function(b){this._initHandler(b);this.callMethod("*","init",b)},addBrush:function(b,d){var c=this._map[b];if(!c){nchart.error("INVALID_BRUSH_NAME",b)}d.brushName=b;this._addDataSharingMethodToBrush(d);c.push(d);return this},_addDataSharingMethodToBrush:function(b){b.getBrushMapData=this.getBrushMapData.bind(this);b.setBrushMapData=this.setBrushMapData.bind(this)},callMethod:function(c,b){if(c===a.WILDCARD){return this.callEachBrushMethod.apply(this,arguments)}else{return this.callSingleBrushMethod.apply(this,arguments)}},callEachBrushMethod:function(d,b){var c=Array.prototype.slice.call(arguments,1);Object.keys(this._map).forEach(function(f){var e=c.concat();e.splice(0,0,f);this.callSingleBrushMethod.apply(this,e)}.bind(this));return undefined},callSingleBrushMethod:function(e,b){var f=this._map[e],c=Array.prototype.slice.call(arguments,2),d;if(!f){nchart.error("INVALID_BRUSH_NAME",e)}f.forEach(function(h){var i=h[b]||this._defaultMethodMap[b],g;if(typeof i==="function"){g=i.apply(h,c)}if(g&&!d){d=g}}.bind(this));return d},setDefaultMethodOfBrush:function(b){nchart.util.copy(this._defaultMethodMap,b);return this},getBrushMapData:function(b){return this._shareData[b]},setBrushMapData:function(b,c){this._shareData[b]=c;return this},getAvailableBrushMethods:function(c){var b="---------------------------------------------",d=["[Available brush methods]",b,"BRUSH NAME\tMETHOD NAME",b];d.push("*");a.COMMON_METHODS.forEach(function(e){d.push("\t\t"+e+"()")});this._availableBrushMethods.forEach(function(e){if(e.brushMethods.length){d.push(e.brushName);e.brushMethods.forEach(function(f){if(!c||c.test(f)){d.push("\t\t"+f+"()")}})}});d.push(b);return d.join("\n")}})}());(function(){var a=window.nbrush={_brushRepos:{},_brushMapRepos:{},defineBrush:function(c,b){if(this._brushRepos[c]){nchart.error("BRUSH_ID_ALREADY_EXIST",c)}this._brushRepos[c]=b},getBrush:function(d){var c=this._brushRepos[d],b;switch(typeof c){case"object":return c;case"function":b=Array.prototype.slice.call(arguments,1);return c.apply(c,b);default:nchart.error("INVALID_BRUSH_ID",d)}},defineBrushMap:function(c,b,d){if(this._brushMapRepos[c]){nchart.error("BRUSH_MAP_ID_ALREADY_EXIST",c)}this._brushMapRepos[c]={config:b,definition:d}},getBrushMap:function(c){var e=this._brushMapRepos[c];if(!e){nchart.error("INVALID_BRUSH_MAP_ID",c)}var d=nchart.createBrushMap(e.config),b=Array.prototype.slice.call(arguments,1);b.splice(0,0,d);e.definition.apply(d,b);return d}}}());(function(){nchart.tool={_map:{},_rExpr:/^(?:([\w\*]+)\.)?([\w\*]+)\(\)$/,define:function(c,b){var a={};nchart.util.copy(a,c);a.constructor=this._createToolConstructor(c,b);this._map[c.toolName]=a},_createToolConstructor:function(c,b){var a=function(){};nchart.util.proto(a,nchart.tool.commonMethods);nchart.util.proto(a,b);return a},createInstance:function(c){var a=this._map[c];var b=new this._map[c].constructor();b.toolName=a.toolName;return b},checkDependency:function(c,b){var a=this._map[c];a.requiredTools.forEach(function(d){if(b.indexOf(d)===-1){nchart.error("TOOL_REQUIRED",c,d)}})},getBrushMethods:function(b){var a=this._map[b];if(!a){nchart.error("INVALID_TOOL_DEFINITION",b)}return a.brushMethods},addAdvisor:function(e,c){var b=this._rExpr.exec(e);if(!b){nchart.error("INVALID_POINTCUT_EXPRESSION",e)}var a=b[1]||"*",d=b[2];this._applyAdviceToTarget(a,d,c)},_applyAdviceToTarget:function(a,d,c){var b=this._filterTools(a);b.forEach(function(e){Object.keys(e).forEach(function(f){if(this._isMatched(d,f)){this._applyAdvice(e,f,c)}}.bind(this))}.bind(this))},_filterTools:function(a){var b=[];Object.keys(this._map).forEach(function(c){if(this._isMatched(a,c)){b.push(this._map[c].constructor.prototype)}}.bind(this));return b},_isMatched:function(b,a){if(b==="*"){return true}var c="^"+b.replace(/\*/g,"\\w*")+"$";return new RegExp(c).test(a)},_applyAdvice:function(c,a,b){var d=c[a];c[a]=function(){var e=Array.prototype.slice.call(arguments);e.unshift({type:this.oChart.type,toolName:this.toolName,method:d.bind(this)});return b.apply(this,e)}}}}());(function(){nchart.tool.commonMethods={getRefinedMargin_:function(a,c){var b=this.callBrushMethod_(a,c)||{};return{left:b.left||0,top:b.top||0,right:b.right||0,bottom:b.bottom||0}},getAreaExceptMargin_:function(b,a){return{x:b.x+a.left,y:b.y+a.top,w:b.w-a.left-a.right,h:b.h-a.top-a.bottom,xEnd:b.xEnd-a.right,yEnd:b.yEnd-a.bottom}},callBrushMethod_:function(a,b){return this.oChart.callBrushMethod(this.toolName,a,b)}}}());(function(){nchart.tool.define({toolName:"baseline",requiredTools:[],brushMethods:["getMargin","drawHorizontalBaseline","drawVerticalBaseline"]},{init:function(){this._toolArea},draw:function(){this._initToolArea();this._drawBaseline()},_initToolArea:function(){var a=this.oChart.getChartInfo("container"),b=this.getRefinedMargin_("getMargin",a);this._toolArea=this.getAreaExceptMargin_(a,b);this.oChart.setChartInfo(this.toolName,this._toolArea)},_drawBaseline:function(){this.callBrushMethod_("drawHorizontalBaseline",this._toolArea);this.callBrushMethod_("drawVerticalBaseline",this._toolArea)}})}());(function(){nchart.tool.define({toolName:"ticks",requiredTools:[],brushMethods:[]},{init:function(a){a=a||{};this._tickCount=a.maxTick||5;this._rangeMargin=a.rangeMargin||0.05;this._staticMin=a.staticMin;this._staticMax=a.staticMax;this._scope=a.scope||"whole";this._decimalPlaces=isNaN(a.decimalPlaces)?2:a.decimalPlaces;this._min;this._max;this._tickSpacing;this._niceRange;this._niceMin;this._niceMax;this._ticks},draw:function(){var a=this._getMinMaxValue();this._setMinMax(a.min,a.max,this._rangeMargin);this._calculate();this._createTicks();this.oChart.setChartInfo(this.toolName,this.getTicks())},_getMinMaxValue:function(){var a;if(this._scope==="whole"){a=this.oDataTable.getMinMaxValue()}else{if(this._scope==="rowSum"){a=this.oDataTable.getMinMaxValueOfRowSum()}}if(typeof this._staticMin==="number"){a.min=this._staticMin}if(typeof this._staticMax==="number"){a.max=this._staticMax}return a},_setMinMax:function(b,e,d){var c=b*(1-d),a=e*(1+d);if(c===a){if(c===0){this._setMinMax(0,1,0)}else{this._setMinMax(c,a,0.1)}return}this._min=c;this._max=a},_calculate:function(){this._calculateNiceRange();this._calculateTickSpacing();this._calculateNiceMinMax()},_calculateNiceRange:function(){this._niceRange=this._getNiceNum(this._max-this._min,false)},_getNiceNum:function(b,a){var e=Math.floor(this._log10(b)),d=b/(Math.pow(10,e)),c;if(a){if(d<1.5){c=1}else{if(d<3){c=2}else{if(d<7){c=5}else{c=10}}}}else{if(d<=1){c=1}else{if(d<=2){c=2}else{if(d<=5){c=5}else{c=10}}}}return c*Math.pow(10,e)},_log10:function(a){return Math.log(a)/Math.log(10)},_calculateTickSpacing:function(){this._tickSpacing=this._getNiceNum(this._niceRange/(this._tickCount-1),true)},_calculateNiceMinMax:function(){this._niceMin=Math.floor(this._min/this._tickSpacing)*this._tickSpacing;this._niceMax=Math.ceil(this._max/this._tickSpacing)*this._tickSpacing},_createTicks:function(){var b=[];for(var a=this._niceMin;a<this._niceMax+(0.5*this._tickSpacing);a=a+this._tickSpacing){b.push(this._roundTo(a,this._decimalPlaces))}this._ticks=b},_roundTo:function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},getTicks:function(){return this._ticks}})}());(function(){nchart.tool.define({toolName:"ratios",requiredTools:[],brushMethods:[]},{draw:function(){var a=this.oDataTable.getColumnCell(0),b=this._calculate(a);this.oChart.setChartInfo("ratios",b)},_calculate:function(a){var b=this._getSum(a),c=[];a.forEach(function(d){c.push(this._getRatio(b,d))}.bind(this));return c},_getSum:function(a){var b=0;a.forEach(function(c){b+=c});return b},_getRatio:function(a,b){if(a===0){return 0}return b/a}})}());(function(){nchart.tool.define({toolName:"radians",requiredTools:["ratios"],brushMethods:[]},{draw:function(){var a=this.oChart.getChartInfo("ratios"),b=this._calculate(a);this.oChart.setChartInfo("radians",b)},_calculate:function(a){var b=[];a.forEach(function(d){var c=Math.PI*2*d;b.push(c)});return b}})}());(function(){nchart.tool.define({toolName:"horizontalGridline",requiredTools:["baseline","ticks"],brushMethods:["getMarginFromBaseline","drawEachHorizontalGridline","drawEachHorizontalLabel"]},{init:function(a,b){this._toolArea},draw:function(){this._initToolArea();this._drawGridAndLabel()},_initToolArea:function(){var a=this.oChart.getChartInfo("baseline"),b=this.getRefinedMargin_("getMarginFromBaseline",a);this._toolArea=this.getAreaExceptMargin_(a,b)},_drawGridAndLabel:function(){var a=this._calculateGridData();this.oChart.setChartInfo(this.toolName,a);a.forEach(function(b){this.callBrushMethod_("drawEachHorizontalGridline",b);this.callBrushMethod_("drawEachHorizontalLabel",b)}.bind(this))},_calculateGridData:function(){var c=[],e=this.oChart.getChartInfo("ticks"),f=this._toolArea,d=this._getGridSpacing(),b=0,a=e.length,h=d*(a-1),g;for(;b<a;b++){g=h-(d*b)+f.y;c.push({idx:b,len:a,isFirst:b===0,isLast:b===(a-1),x:f.x,y:g,xEnd:f.xEnd,yEnd:g,w:f.w,h:1,value:e[b]})}return c},_getGridSpacing:function(){var a=this.oChart.getChartInfo("ticks"),b=this._toolArea;return b.h/(a.length-1)}})}());(function(){nchart.tool.define({toolName:"verticalGridline",requiredTools:["baseline"],brushMethods:["getMarginFromBaseline","drawEachVerticalGridline","drawEachVerticalLabel"]},{init:function(){this._toolArea},draw:function(){this._initToolArea();this._drawGridAndLabel()},_initToolArea:function(){var a=this.oChart.getChartInfo("baseline"),b=this.getRefinedMargin_("getMarginFromBaseline",a);this._toolArea=this.getAreaExceptMargin_(a,b)},_drawGridAndLabel:function(){var a=this._calculateGridData();this.oChart.setChartInfo(this.toolName,a);a.forEach(function(b){this.callBrushMethod_("drawEachVerticalGridline",b);this.callBrushMethod_("drawEachVerticalLabel",b)}.bind(this))},_calculateGridData:function(){var c=[],e=this._toolArea,b=e.x,a=this.oDataTable.getRowCount(),d=this._getGridSpacing();this.oDataTable.eachRowHeader(function(i,g){var f=d*g+b,h={idx:g,len:a,isFirst:g===0,isLast:g===(a-1),x:f,y:e.y,xEnd:f,yEnd:e.yEnd,w:1,h:e.h,value:i};if(a===1){h.x+=d/2;h.xEnd+=d/2}c.push(h)});return c},_getGridSpacing:function(){var a=this.oDataTable.getRowCount(),b=this._toolArea,d=b.w,c=(a-1)||1;return d/c}})}());(function(){nchart.tool.define({toolName:"lineBarPoint",requiredTools:["verticalGridline","horizontalGridline"],brushMethods:[]},{init:function(){},draw:function(){var a=this._calculatePointDatas();this.oChart.setChartInfo(this.toolName,a)},_calculatePointDatas:function(){var d=this.oDataTable,c=d.getRowCount(),b=d.getColumnCount(),a=[];d.eachCell(function(o,i,e){var n=this._getX(i),k=this._getHeight(o),m=this._getY(k),g=(i===0),j=(i===c-1),f=(e===0),l=(e===b-1);if(g){a[e]=[]}a[e].push({x:n,h:k,y:m,value:o,rIdx:i,cIdx:e,cHeader:d.getColumnHeader(e),rHeader:d.getRowHeader(i),rLength:c,cLength:b,isFirstRow:g,isLastRow:j,isFirstColumn:f,isLastColumn:l})}.bind(this));return a},_getX:function(a){var b=this.oChart.getChartInfo("verticalGridline");return b[a].x},_getHeight:function(i){var j=this.oChart.getChartInfo("ticks"),a=j[0],e=j[j.length-1],c=this.oChart.getChartInfo("horizontalGridline"),b=c[c.length-1],d=c[0],f=d.y-b.y,g=f*(i-a)/(e-a);return g||0},_getY:function(b){var a=this.oChart.getChartInfo("horizontalGridline"),c=a[0];return c.y-b}})}());(function(){nchart.tool.define({toolName:"line",requiredTools:["lineBarPoint"],brushMethods:["drawEachPoint"]},{draw:function(){var a=this._calculate();this.oChart.setChartInfo(this.toolName,a);a.forEach(function(b){this.callBrushMethod_("drawEachPoint",b)}.bind(this))},_calculate:function(){var a=this.oChart.getChartInfo("lineBarPoint"),b=[];a.forEach(function(c){c.forEach(function(d,e,g){var f=nchart.util.clone(d);if(!f.isLastRow){var h=g[f.rIdx+1];f.xNext=h.x;f.yNext=h.y}delete f.h;b.push(f)}.bind(this))}.bind(this));return b}})}());(function(){nchart.tool.define({toolName:"bar",requiredTools:["lineBarPoint"],brushMethods:["getBarWidth","drawEachBar"]},{draw:function(){var b=this.callBrushMethod_("getBarWidth")||0,a=this._calculate(b);this.oChart.setChartInfo(this.toolName,a);a.forEach(function(c){this.callBrushMethod_("drawEachBar",c)}.bind(this))},_calculate:function(c){var b=this.oChart.getChartInfo("lineBarPoint"),a=[];b.forEach(function(d){d.forEach(function(p,g,k){var f=nchart.util.clone(p),n=f.x,m=f.y,j=f.h,e=n,o=m+j,l=c/2;f.w=c;f.xEnd=e;f.yEnd=o;f.xLeftTop=n-l;f.yLeftTop=m;f.xLeftBottom=n-l;f.yLeftBottom=m+j;f.xRightTop=n+l;f.yRightTop=m;f.xRightBottom=n+l;f.yRightBottom=m+j;a.push(f)}.bind(this))}.bind(this));return a}})}());(function(){nchart.tool.define({toolName:"stackbar",requiredTools:["lineBarPoint"],brushMethods:["getBarWidth","drawEachStack"]},{draw:function(){var a=this.callBrushMethod_("getBarWidth")||0,b=this._calculate(a);this.oChart.setChartInfo(this.toolName,b);b.forEach(function(c){this.callBrushMethod_("drawEachStack",c)}.bind(this))},_calculate:function(c){var a=this.oChart.getChartInfo("lineBarPoint"),d=[],b=[];a.forEach(function(e){e.forEach(function(q,j,l){var g=nchart.util.clone(q),o=g.x,n=this._getStackY(b,g),k=g.h,f=o,p=n+k,m=c/2;g.w=c;g.xEnd=f;g.yEnd=p;g.xLeftTop=o-m;g.yLeftTop=n;g.xLeftBottom=o-m;g.yLeftBottom=n+k;g.xRightTop=o+m;g.yRightTop=n;g.xRightBottom=o+m;g.yRightBottom=n+k;d.push(g)}.bind(this))}.bind(this));return d},_getStackY:function(b,e){var d=e.cIdx,c=e.rIdx,f=e.y,a=e.h;if(d===0){b[c]=f}else{b[c]-=a}return b[c]}})}());(function(){nchart.tool.define({toolName:"backgroundCircle",requiredTools:[],brushMethods:["getMargin","getRadius","drawBackgroundCircle"]},{init:function(){this._toolArea},draw:function(){this._initToolArea();this._drawCircle()},_initToolArea:function(){var a=this.oChart.getChartInfo("container"),b=this.getRefinedMargin_("getMargin",a);this._toolArea=this.getAreaExceptMargin_(a,b)},_drawCircle:function(){var d=this._toolArea,c=d.x+(d.w/2),e=d.y+(d.h/2),a=this._getRadius(d),b=nchart.util.clone(d);b.xc=c;b.yc=e;b.r=a;this.oChart.setChartInfo(this.toolName,b);this.callBrushMethod_("drawBackgroundCircle",b)},_getRadius:function(b){var a=this.callBrushMethod_("getRadius");if(!a){a=Math.min(b.w/2,b.h/2)}return a}})}());(function(){nchart.tool.define({toolName:"pie",requiredTools:["backgroundCircle","radians"],brushMethods:["drawEachPie","drawEachLabel"]},{init:function(b){this._isClockwise=typeof b.isClockwise==="undefined"?true:b.isClockwise;this._startDirection=b.startDirection||"N";var c=b.coordinateType||"svg";this._validateOptions(this._startDirection,c);this._rcs=a[c]},_validateOptions:function(b,c){nchart.util.validateOptions({validInputs:["N","E","S","W"],inputValue:b,errorKey:"INVALID_PIE_START_DIRECTION"});nchart.util.validateOptions({validInputs:["svg","canvas"],inputValue:c,errorKey:"INVALID_PIE_COORDINATE_TYPE"})},draw:function(){var b=this._calculate();this.oChart.setChartInfo(this.toolName,b);b.forEach(function(c){this.callBrushMethod_("drawEachPie",c);this.callBrushMethod_("drawEachLabel",c)}.bind(this))},_calculate:function(){var c=[],h=null,f=this.oChart.getChartInfo("backgroundCircle"),n=f.xc,l=f.yc,d=f.r,i=this.oChart.getChartInfo("ratios"),g=this.oChart.getChartInfo("radians"),m,k,e,o=this.oDataTable,b=0,j=o.getRowCount();o.eachColumnCell(b,function(q,p){m=g[p];k=isNaN(e)?this._getStartRad():e;e=this._getEndRad(k,m);h=this._getPiePoint(n,l,d,k,e);nchart.util.copy(h,{cHeader:o.getColumnHeader(b),rHeader:o.getRowHeader(p),rIdx:p,r:d,xc:n,yc:l,value:q,len:j,ratio:i[p],rad:m,startRad:k,endRad:e,deg:this._radToDeg(m),startDeg:this._radToDeg(k),endDeg:this._radToDeg(e),getX:this._rcs.getX,getY:this._rcs.getY});this._tweakEndPoint(h);c.push(h)}.bind(this));return c},_getPiePoint:function(n,k,b,i,c){var e=this._rcs.getX(n,b,i),m=this._rcs.getY(k,b,i),d=this._rcs.getX(n,b,c),l=this._rcs.getY(k,b,c),g=(i+c)/2,h=this._rcs.getX(n,b/2,g),f=this._rcs.getY(k,b/2,g),j=Math.abs(c-i)>Math.PI;return{x1:e,x2:d,xm:h,y1:m,y2:l,ym:f,isLargeArc:j}},_getStartRad:function(){var b=this._startDirection.toUpperCase();return this._rcs.getStartRad(b)},_getEndRad:function(c,b){var d=this._isClockwise;return this._rcs.getEndRad(c,b,d)},_radToDeg:function(b){return b*180/Math.PI},_tweakEndPoint:function(e){if(e.x1!==e.x2||e.y2!==e.y2){return}var c=this._startDirection.toUpperCase(),d=this._isClockwise,b=c+"_"+(d?"C":"AC"),f=0.001;switch(b){case"E_C":case"W_AC":e.y2-=f;break;case"N_C":case"S_AC":e.x2-=f;break;case"W_C":case"E_AC":e.y2+=f;break;case"S_C":case"N_AC":e.x2+=f;break}}});var a={svg:{getX:function(d,c,b){return d+c*Math.cos(b)},getY:function(d,c,b){return d+c*-Math.sin(b)},getStartRad:function(b){var c=Math.PI;switch(b){case"E":return 0;case"N":return c/2;case"W":return c;case"S":return c*3/2}return 0},getEndRad:function(c,b,d){if(d){return c-b}return c+b}},canvas:{getX:function(d,c,b){return d+c*Math.cos(b)},getY:function(d,c,b){return d+c*Math.sin(b)},getStartRad:function(b){var c=Math.PI;switch(b){case"E":return 0;case"N":return c*3/2;case"W":return c;case"S":return c/2}return 0},getEndRad:function(c,b,d){if(d){return c+b}return c-b}}}}());(function(){nchart.tool.define({toolName:"donut",requiredTools:["pie"],brushMethods:["getInnerRadius","drawEachDonutPiece","drawEachLabel"]},{draw:function(){var b=this._getInnerRadius(),a=this._calculate(b);this.oChart.setChartInfo(this.toolName,a);a.forEach(function(c){this.callBrushMethod_("drawEachDonutPiece",c);this.callBrushMethod_("drawEachLabel",c)}.bind(this))},_getInnerRadius:function(){var b=this.oChart.getChartInfo("backgroundCircle"),a=b.r;return this.callBrushMethod_("getInnerRadius",{r:a})},_calculate:function(b){var c=this.oChart.getChartInfo("pie"),a=[];c.forEach(function(m){var g=nchart.util.clone(m),n=g.xc,i=g.yc,d=g.r,j=(d+b)/2,h=g.startRad,e=g.endRad,f=(h+e)/2,l=g.getX,k=g.getY;g.rInner=b;g.xInner1=l(n,b,h);g.yInner1=k(i,b,h);g.xInner2=l(n,b,e);g.yInner2=k(i,b,e);g.xm=l(n,j,f);g.ym=k(i,j,f);a.push(g)}.bind(this));return a}})}());(function(){nchart.tool.define({toolName:"legend",requiredTools:[],brushMethods:["getMargin","getSpace","drawEachLegend"]},{init:function(a){this._headerType=a.headerType||"column";this._direction=a.direction||"H";this._toolArea;this._validateOptions()},_validateOptions:function(){nchart.util.validateOptions({validInputs:["row","column"],inputValue:this._headerType,errorKey:"INVALID_LEGEND_HEADER_TYPE"});nchart.util.validateOptions({validInputs:["H","V"],inputValue:this._direction,errorKey:"INVALID_LEGEND_DIRECTION"})},draw:function(){this._initToolArea();this._drawLegend()},_initToolArea:function(){var a=this.oChart.getChartInfo("container"),b=this.getRefinedMargin_("getMargin",a);this._toolArea=this.getAreaExceptMargin_(a,b)},_drawLegend:function(){var a=this._calculate();this.oChart.setChartInfo(this.toolName,a);a.forEach(function(b){this.callBrushMethod_("drawEachLegend",b)}.bind(this))},_calculate:function(){var c=[],i=this._toolArea,g=this._getHeaders(),a=g.length,e=this.callBrushMethod_("getSpace")||0,f=a-1,b=this._getWidth(i,e,f,a),d=this._getHeight(i,e,f,a);g.forEach(function(l,j){var h=this._getX(i,b,e,j),m=this._getY(i,d,e,j),k={value:l,idx:j,len:a,w:b,h:d,x:h,y:m,xEnd:h+b,yEnd:m+d};c.push(k)}.bind(this));return c},_getHeaders:function(){if(this._headerType==="row"){return this.oDataTable.getRowHeader()}else{return this.oDataTable.getColumnHeader()}},_getWidth:function(d,a,c,b){if(this._direction==="H"){return(d.w-(a*c))/b}return d.w},_getHeight:function(d,a,c,b){if(this._direction==="V"){return(d.h-(a*c))/b}return d.h},_getX:function(d,b,c,a){if(this._direction==="H"){return d.x+((b+c)*a)}return d.x},_getY:function(d,b,c,a){if(this._direction==="V"){return d.y+((b+c)*a)}return d.y}})}());(function(){nchart.tool.define({toolName:"rest",requiredTools:[],brushMethods:["drawRest"]},{draw:function(){this.callBrushMethod_("drawRest")}})}());(function(){nchart.createDataTable=function(){var e=new nchart.DataTable();return e};nchart.createChart=function(g){d(g,["TYPE","SIZE"]);var f=g.type,i=a(f,g),e=new nchart.Chart(i),h=[];c(f,function(j){nchart.tool.checkDependency(j,h);e.addTool(nchart.tool.createInstance(j));h.push(j)});e.type=f;return e};function d(f,e){if(!f){nchart.error("CHART_CONFIG_REQUIRED")}e.forEach(function(g){b[g](f)})}var b={TYPE:function(f){var e=f.type;if(!e){nchart.error("CHART_TYPE_REQUIRED")}if(!nchart.type[e]){nchart.error("INVALID_TYPE",e)}},SIZE:function(e){if(isNaN(e.width)||isNaN(e.height)||e.width<=0||e.height<=0){nchart.error("WIDTH_HEIGHT_REQUIRED")}}};function a(e,g){var f=nchart.type[e].config,h={};if(f){nchart.util.copy(h,f)}nchart.util.copy(h,g);return h}nchart.createBrushMap=function(f){d(f,["TYPE"]);var g=new nchart.BrushMap(),e=f.type;c(e,function(h){g.addBrushType(h,nchart.tool.getBrushMethods(h))});g.type=e;return g};function c(f,g){var e=nchart.type[f].tools;e.forEach(function(j,h){g(j)})}nchart.getAvailableType=function(){return Object.keys(nchart.type)}}());(function(){var a=nchart.tool;nchart.type={LINE:{tools:["baseline","ticks","horizontalGridline","verticalGridline","lineBarPoint","line","legend","rest"]},BAR:{tools:["baseline","ticks","horizontalGridline","verticalGridline","lineBarPoint","bar","legend","rest"]},LINEBAR:{tools:["baseline","ticks","horizontalGridline","verticalGridline","lineBarPoint","bar","line","legend","rest"]},STACKBAR:{config:{ticks:{staticMin:0,scope:"rowSum"}},tools:["baseline","ticks","horizontalGridline","verticalGridline","lineBarPoint","stackbar","legend","rest"]},PIE:{tools:["backgroundCircle","ratios","radians","pie","legend","rest"]},DONUT:{tools:["backgroundCircle","ratios","radians","pie","donut","legend","rest"]}}}());